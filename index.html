<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Creamocrypt</title>
    <base href="/">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <canvas id="hackerCanvas"></canvas>
    <div class="page">
        <header class="site-header">
            <div class="logo">
                <img src="logo.png" alt="Creamocrypt Logo" class="logo-svg">
                <div class="title">
                    <h1>Creamocrypt</h1>
                    <p class="tagline">Encode your truth — the ink dries slow.</p>
                </div>
            </div>
            <nav aria-label="main">
                <a href="encoder.html" class="btn primary">Start Encoding</a>
                <a href="archives.html" class="btn primary">Enter the Archives</a>
                <button class="btn ghost" id="themeToggle" aria-pressed="false">Light Theme</button>
            </nav>
        </header>
        <main class="container">
            <section class="card tool-card" aria-labelledby="welcome-title">
                <h2 id="welcome-title">Welcome to Creamocrypt</h2>
                <p>Unleash the power of ciphers to encode your secrets or decode the mysteries of the Pen War. Inspired by Agent Pen, this tool is your key to the rebellion of memory.</p>
                <div class="button-group">
                    <a href="encoder.html" class="btn primary">Start Encoding</a>
                    <a href="archives.html" class="btn primary">Enter the Archives</a>
                </div>
            </section>
            <aside class="card info-card" aria-labelledby="info-title">
                <h2 id="info-title">Pen War Archives</h2>
                <div class="info-content">
                    <ul>
                        <li><strong>Archive 001:</strong> The War of the Pen — Espionage and betrayal.</li>
                        <li><strong>Agent Pen:</strong> A protocol that vanished, yet fragments remain.</li>
                        <li><strong>Ciphers:</strong> Use AES-256, Base64, or Morse to decode secrets.</li>
                        <li><strong>Directive 001:</strong> Dig up the bones. The Pen writes again.</li>
                    </ul>
                </div>
                <div class="hint">Tip: Check the archives for hidden messages!</div>
            </aside>
        </main>
        <footer class="site-footer">
            <p>Directive 001: The Pen Writes Again. © 2025 Yappinghood</p>
        </footer>
    </div>
    <script>
        // Hacker animation
        window.addEventListener('load', () => {
            const canvas = document.getElementById('hackerCanvas');
            const ctx = canvas.getContext('2d');
            if (!canvas || !ctx) {
                console.error('Hacker animation failed: Canvas or context not found');
                return;
            }
            console.log('Hacker animation initializing...');
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            const chars = '01010101';
            const fontSize = 12; // Smaller font for denser rain
            const columns = Math.floor(canvas.width / fontSize * 1.5); // Increase density
            console.log(`Columns: ${columns}`);
            const drops = Array(columns).fill(1);
            ctx.font = `${fontSize}px monospace`;
            ctx.fillStyle = '#0f0';

            function draw() {
                ctx.fillStyle = 'rgba(0, 0, 0, 0.1)'; // Faster fade
                ctx.fillRect(0, 0, canvas.width, canvas.height);
                ctx.fillStyle = '#0f0';
                for (let i = 0; i < drops.length; i++) {
                    const text = chars.charAt(Math.floor(Math.random() * chars.length));
                    ctx.fillText(text, i * fontSize, drops[i] * fontSize);
                    if (drops[i] * fontSize > canvas.height && Math.random() > 0.975) {
                        drops[i] = 0;
                    }
                    drops[i]++;
                }
            }

            const animation = setInterval(draw, 20); // Faster animation (~50 FPS)
            setTimeout(() => {
                console.log('Hacker animation stopping...');
                clearInterval(animation);
                canvas.classList.add('hidden');
            }, 3000);

            window.addEventListener('resize', () => {
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
            });
        });

        // Theme toggle
        const themeToggle = document.getElementById('themeToggle');
        themeToggle.addEventListener('click', () => {
            document.documentElement.classList.toggle('light');
            const pressed = document.documentElement.classList.contains('light');
            themeToggle.setAttribute('aria-pressed', pressed.toString());
            themeToggle.textContent = pressed ? 'Dark Theme' : 'Light Theme';
        });
    </script>
</body>
</html>
